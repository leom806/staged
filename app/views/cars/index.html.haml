%main{ data: { controller: "cars/index" }}
  %h1.text-3xl.text-center.text-gray-700.mb-12.dark:text-white Meus Carros

  .flex.flex-col.justify-between.w-full
    .mx-auto
      - @cars.each do |car|
        %h3.text-2xl.text-left.text-gray-700.mb-4.dark:text-white= car

        - car.services.each do |service|
          = link_to modal_cars_path(service_id: service.id), class: "flex w-full text-left", data: { turbo_frame: 'modal' } do
            .max-w-lg.rounded.overflow-hidden.shadow-sm.w-full.my-2.cursor-pointer.shadow-lg.hover:shadow-xl.dark:bg-gray-100.dark:text-gray-900
              .px-6.py-4
                .font-bold.text-xl.mb-2= service.name
                %p.text-gray-700.text-base= service.description
              .px-6.pt-4.pb-2.flex.items-center.justify-between.align-middle
                %div
                  - case service.status
                  - when 'pending'
                    = icon 'clock', 'Aguardando', class: 'text-gray-500'
                  - when 'in_progress'
                    = icon 'wrench', 'Em Andamento', class: 'text-blue-500'
                  - when 'done'
                    = icon 'check-badge', 'Finalizado', class: 'text-green-500'
                  - when 'canceled'
                    = icon 'x-circle', 'Cancelado', class: 'text-red-500'
                %div.text-sm.text-gray-500.hover:text-blue-500
                  Ver Detalhes &rarr;

= turbo_frame_tag "modal"
